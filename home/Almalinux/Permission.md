---
title: Almalinux -Permission-
description: Almalinux -Permission-
published: true
date: 2025-10-12T07:04:56.345Z
tags: almalinux, cmd, 権限, permission
editor: markdown
dateCreated: 2025-10-12T07:04:56.345Z
---

# 🔐 AlmaLinux パーミッション完全ガイド

> **目的:**  
> このドキュメントでは、AlmaLinuxを含むLinux環境での **パーミッション（権限）** の基本概念、数値の意味、コマンドの使い方を分かりやすく解説します。

---

## 🧩 1. パーミッションとは？

**パーミッション（Permission）** とは、  
「ファイルやディレクトリを **誰が読めるか／書けるか／実行できるか**」を制御するための仕組みです。

Linuxでは、すべてのファイルに次の3つのアクセス権限が設定されています：

| 対象 | 意味 |
|------|------|
| **Owner (u)** | ファイルの所有者 |
| **Group (g)** | 所属グループ |
| **Other (o)** | その他すべてのユーザー |

---

## 🔠 2. 権限の種類

| 権限 | 記号 | 意味 | ファイルの場合 | ディレクトリの場合 |
|------|------|------|----------------|--------------------|
| 読み取り | `r` | read | ファイル内容を読む | ファイル一覧を取得 |
| 書き込み | `w` | write | 内容を変更する | ファイル作成・削除 |
| 実行 | `x` | execute | 実行できる | ディレクトリに入れる |

---

## 🔢 3. 数値表現（モード値）

パーミッションは **数値（8進数）** でも表せます。  
各権限に次の値を割り当て、合計した数値が実際のパーミッションになります。

| 権限 | 値 |
|------|----|
| 読み取り (`r`) | 4 |
| 書き込み (`w`) | 2 |
| 実行 (`x`) | 1 |

### 🧮 例：
```
rwxr-xr--
↓
7  5  4
```

| 対象 | 権限 | 数値 | 意味 |
|------|------|------|------|
| 所有者 (u) | rwx | 7 | 読み・書き・実行可 |
| グループ (g) | r-x | 5 | 読み・実行可 |
| その他 (o) | r-- | 4 | 読みのみ |

> ✅ よく使う設定  
> - `chmod 755 file` → 所有者が全権限、他は読み実行のみ  
> - `chmod 644 file` → 所有者が書き込み可能、他は読み取りのみ  

---

## ⚙️ 4. パーミッションの確認

```bash
ls -l
```

例:
```
-rwxr-xr-- 1 root root 1024 Oct 12 10:00 example.sh
```
- `-` : 通常ファイル（dならディレクトリ）  
- `rwxr-xr--` : 権限  
- `root` : 所有者  
- `root` : グループ

---

## 🔧 5. パーミッションの変更

### シンボリックモードで変更
```bash
chmod u+x file.sh    # 所有者に実行権限を追加
chmod g-w file.sh    # グループの書き込み権限を削除
chmod o=r file.txt   # その他ユーザーを読み取り専用に
```

### 数値モードで変更
```bash
chmod 755 script.sh
chmod 644 config.txt
```

---

## 👤 6. 所有者・グループの変更

### 所有者を変更
```bash
chown user file.txt
```

### グループを変更
```bash
chgrp group file.txt
```

### 両方変更
```bash
chown user:group file.txt
```

---

## 🧱 7. ディレクトリとパーミッションの関係

| 権限 | 効果 |
|------|------|
| `r` | ディレクトリ内のファイル名を一覧表示できる |
| `w` | ディレクトリ内でファイルの作成・削除ができる |
| `x` | ディレクトリに「入る」ことができる（`cd`） |

> ⚠️ `r` だけでは `cd` できません！  
> `x` 権限がないとディレクトリの中に入れません。

---

## 🧰 8. 特殊なパーミッション

| 記号 | 名称 | 説明 |
|------|------|------|
| `s` | **SUID/SGID** | プログラム実行時に所有者またはグループ権限で実行 |
| `t` | **Sticky Bit** | ディレクトリ内のファイルを所有者以外が削除できないようにする（例：`/tmp`） |

例：
```bash
chmod 4755 script.sh   # SUIDを付与
chmod 1777 /tmp        # Sticky bit付きディレクトリ
```

---

## 💡 9. パーミッションのベストプラクティス

- `777` は極力使わない（誰でも変更可能になる）  
- 実行権限（`x`）は必要なスクリプトだけに付与  
- サービス設定ファイルは通常 `644`  
- 実行ファイルは `755`  
- `/var/www` や `/home` などはユーザーごとに分離

---

## 📚 10. まとめ

| コマンド | 用途 | 例 |
|-----------|------|----|
| `ls -l` | 権限確認 | `ls -l` |
| `chmod` | 権限変更 | `chmod 755 file` |
| `chown` | 所有者変更 | `chown user file` |
| `chgrp` | グループ変更 | `chgrp dev file` |

---

> 💬 **補足:**  
> パーミッションはセキュリティの基本中の基本です。  
> 不要な書き込み・実行権限は避け、最小限の権限で運用しましょう。